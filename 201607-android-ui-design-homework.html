<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Android UI 期末作业分析（附代码） - 独步清风&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="独步清风&#039;s Blog"><meta name="msapplication-TileImage" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/common/github-icon-url.jpeg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="独步清风&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="以一次作业为例，分析Android上常见的UI风格的实现，并整理一些链接及官方实现。"><meta property="og:type" content="blog"><meta property="og:title" content="独步清风"><meta property="og:url" content="https://dbqf.xyz/201607-android-ui-design-homework.html"><meta property="og:site_name" content="独步清风&#039;s Blog"><meta property="og:description" content="以一次作业为例，分析Android上常见的UI风格的实现，并整理一些链接及官方实现。"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-01.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-02.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-03.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-04.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-05.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-06.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-07.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-08.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-09.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-10.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-11.png"><meta property="og:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-12.png"><meta property="article:published_time" content="2016-07-01T05:27:00.000Z"><meta property="article:modified_time" content="2016-07-03T14:31:00.000Z"><meta property="article:author" content="admin"><meta property="article:tag" content="Android"><meta property="article:tag" content="Android UI"><meta property="article:tag" content="导航栏"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-01.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://dbqf.xyz/201607-android-ui-design-homework.html"},"headline":"独步清风's Blog","image":["https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-01.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-02.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-03.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-04.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-05.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-06.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-07.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-08.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-09.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-10.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-11.png","https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-12.png"],"datePublished":"2016-07-01T05:27:00.000Z","dateModified":"2016-07-03T14:31:00.000Z","author":{"@type":"Person","name":"admin"},"description":"以一次作业为例，分析Android上常见的UI风格的实现，并整理一些链接及官方实现。"}</script><link rel="canonical" href="https://dbqf.xyz/201607-android-ui-design-homework.html"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="独步清风's Blog" type="application/atom+xml">
</head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">独步清风&#039;s Blog</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" target="_blank" rel="noopener" href="https://xiaoye.me">Life</a><a class="navbar-item" target="_blank" rel="noopener" href="https://workflowy.com/s/uKaeJ838dX">Note</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/dubuqingfeng"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2016-07-01T05:27:00.000Z" title="7/1/2016, 1:27:00 PM">2016-07-01</time></span><span class="level-item">Updated&nbsp;<time dateTime="2016-07-03T14:31:00.000Z" title="7/3/2016, 10:31:00 PM">2016-07-03</time></span><span class="level-item"> admin </span><span class="level-item"><a class="link-muted" href="/categories/Android%E5%AE%89%E5%85%A8/">Android安全</a></span><span class="level-item">25 minutes read (About 3696 words)</span></div></div><h1 class="title is-3 is-size-4-mobile">Android UI 期末作业分析（附代码）</h1><div class="content"><h1 id="0x00-TOC"><a href="#0x00-TOC" class="headerlink" title="0x00    TOC"></a>0x00    TOC</h1><ul>
<li>作业题目分析</li>
<li>底部选项卡实现</li>
<li>轮播图片实现</li>
<li>卡片式风格</li>
<li>Fragment 平板电脑适配</li>
<li>左右 ListView 实现</li>
<li>侧滑界面实现</li>
<li>顶部弹出菜单实现</li>
<li>顶部选项卡实现</li>
<li>后记</li>
</ul>
<h1 id="0x01-作业题目分析"><a href="#0x01-作业题目分析" class="headerlink" title="0x01  作业题目分析"></a>0x01  作业题目分析</h1><p>最近 android UI 布置了期末作业，以前总是不写作业，总觉得那些作业重复性太强，浪费太多时间。还不如将写作业的时间用在思考上面。不过自己还是喜欢那种课程设计的作业，课程设计的作业较普通作业来说，可以学到不少知识，可以整理出很多东西。几个人做出一个课设总觉得是一件很酷的事情，不过哪有几个人，很多时间都是一个人在做。不仅是对以往知识的掌握的练习，还可以自由地进行一定的扩展。</p>
<p>本次的试题总共有四个题目，分别代表了不同的应用，后面会尽量使用谷歌官方的组件来进行实现。</p>
<p>首先是模拟去哪儿网风格的卡片式手机客户端界面。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-01.png" class="responsive-img">

<p>通过截图我们可以看到整体界面基本由三部分组成（第三幅图的标题栏可自行实现），底部由底部选项卡组成，上面是一个轮播图片组件，中间是一个类似于Win8的Merto风格的磁贴式风格。（题目上说下标签页，滑动导航，卡片式是什么鬼），这些基本就是这个试题的组成部分了，其他都是一些不重要或者很简单的东西了。</p>
<p>第二个是一个点菜应用界面设计。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-02.png" class="responsive-img">

<p>看风格总像是一个在 iPad 上的应用，其中主要是以下几点：</p>
<p>1.设计成平板电脑横向应用（不可以旋转界面嘛）</p>
<p>2.界面实现左边菜谱分类导航，右边就是其分类下的菜品。这个就是意思是左边是一个 ListView，右边还是一个 ListView 或者 GridView，（当然都是 RecyclerView 也不反对），实际上截图上面左边是一个可扩展的ListView，这些不重要，重要的是右边内容是跟着左边的选项变化的。</p>
<p>3.关于详情介绍界面这个，把那个菜品对象传到另一个详情界面的 Activity，然后显示即可。以及选菜功能的话，这个其实有一点点复杂的，主要是选菜界面的部分，首先每个菜品上面需要有个单选框，来标记是否选择此菜品，选了以后，存到sharedprefences也好，数据库也罢，或者放到缓存里面，然后在我的已点菜界面可以查到相关信息。以及应该有个计算总价或者购物车的功能。</p>
<p>第三个是一个模拟手机QQ的界面，给出的截图也应该是5.x的版本，在以后的版本里，已经改回了侧滑菜单，不再有缩放效果。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-03.png" class="responsive-img">

<p>上方的消息电话的切换效果，以前是用两张图片来切换的，然后中间内容是一个ViewPager控制下的Fragment，然后滑动一下，切换界面的时候，更改标题栏的图片。</p>
<p>这个题目需要有一个侧滑菜单，点击头像或者在左侧边缘部分向右滑动，可像抽屉似的出现一个菜单。</p>
<p>其他就是一些底部选项卡的，以及圆角头像，以及圆角头像的角标，弹出菜单的一些常规的东西了。</p>
<p>最后一个是一个新闻客户端，截图给了一个网易和凤凰视频的，两者结构上很相似，基本上是以下情况。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-04.png" class="responsive-img">

<p>除去标题栏以后，一个顶部选项卡，（当然网易的还有沉浸式状态栏），然后一个轮播图片组件，一个ListView的新闻列表，（当然网易的还有一个垂直跑马灯效果的新闻组件），底部选项卡。</p>
<p>整体的这次课程设计就是这样子，实际上谷歌官方并不推荐这样布局的，谷歌有自己的设计语言<strong>Material Design</strong>，在5.0以后会越来越多的应用采用这个（当然国内大厂没遵循规范，其实他们也做过相关实践的），比如一些知乎、Youtube类似的应用，早已开始了这种风格的实践，并且谷歌官方推出了不少关于它的组件，让一个不懂设计的开发，也能做出一个好看的界面，而传统的风格是碎片化的，有些应用借鉴了iOS的设计，形成了自己的风格，需要美工和开发者的不断配合。</p>
<p>对于现在来说，个人开发者对<strong>Material Design</strong>熟悉一点比较好，不仅可以快速做出一些界面，还可以改善自己博客的风格。</p>
<h1 id="0x02-底部选项卡实现"><a href="#0x02-底部选项卡实现" class="headerlink" title="0x02  底部选项卡实现"></a>0x02  底部选项卡实现</h1><p>底部选项卡，在2.3时期，采用了TabHost和TabActivity的方式（即课本采用的方式），现在早已不是2.3时期了，TabActivity也已经过期了。在引入了Fragment以后，底部选项卡的设计也有所变化。</p>
<p>在Material Design里，也对底部导航栏进行了<a target="_blank" rel="noopener" href="https://material.google.com/components/bottom-navigation.html">统一设计规范</a>，该规范明确给出了 BottomNavigation在设计，使用，交互，风格和尺寸等的使用。</p>
<p>实现Tab功能的几种方式也有人总结过，在<a target="_blank" rel="noopener" href="http://www.cnblogs.com/asion/archive/2013/09/25/3339313.html">Android学习笔记：TabHost 和 FragmentTabHost</a>这篇文章也叙述了五种方法。</p>
<p>其中有种就是利用FragmentTabHost实现底部导航栏，在Activity里初始化的代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fragmentTabHost = (FragmentTabHost) findViewById(android.R.id.tabhost);</span><br><span class="line">radioGroup = (RadioGroup) findViewById(R.id.rg_tab);</span><br><span class="line">fragmentTabHost.setup(<span class="keyword">this</span>, getSupportFragmentManager(), R.id.fl_content);</span><br><span class="line"><span class="keyword">int</span> count = fragments.length;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; count; i++) &#123;</span><br><span class="line">    TabHost.TabSpec tabSpec = fragmentTabHost.newTabSpec(i + <span class="string">&quot;&quot;</span>).setIndicator(i + <span class="string">&quot;&quot;</span>);</span><br><span class="line">    fragmentTabHost.addTab(tabSpec, fragments[i], <span class="keyword">null</span>);</span><br><span class="line">&#125;</span><br><span class="line">radioGroup.setOnCheckedChangeListener(<span class="keyword">this</span>);</span><br><span class="line">fragmentTabHost.setCurrentTab(<span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>其中fragments是一个Fragment的数组，里面包含了标签卡的class。其中底部的按钮采用了RadioGroup的组件，标识其只能按下一个。并且实现其的选择改变的接口（OnCheckedChangeListener），然后里面需要使<code>fragmentTabHost.setCurrentTab(0);</code>设置对应的标签页。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Class[] fragments = &#123;HomeFragment.class, HomeFragment.class, </span><br><span class="line">    HomeFragment.class, HomeFragment.class&#125;;</span><br></pre></td></tr></table></figure>

<p>布局代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.v4.app.FragmentTabHost</span><br><span class="line">        android:id=&quot;@android:id/tabhost&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:visibility=&quot;gone&quot;&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.app.FragmentTabHost</span>&gt;</span></span><br><span class="line">&lt;RadioGroup</span><br><span class="line">    android:id=&quot;@+id/rg_tab&quot;</span><br><span class="line">    android:layout_width=&quot;fill_parent&quot;</span><br><span class="line">    android:layout_height=&quot;55dp&quot;</span><br><span class="line">    android:layout_alignParentBottom=&quot;true&quot;</span><br><span class="line">    android:layout_gravity=&quot;bottom&quot;</span><br><span class="line">    android:gravity=&quot;bottom&quot;</span><br><span class="line">    android:orientation=&quot;horizontal&quot;&gt;</span><br><span class="line">    &lt;RadioButton</span><br><span class="line">        android:id=&quot;@+id/rb_home&quot;</span><br><span class="line">        style=&quot;@style/RadioButtonBottomTab&quot;</span><br><span class="line">        android:checked=&quot;true&quot;</span><br><span class="line">        android:minHeight=&quot;40dp&quot;</span><br><span class="line">        android:drawableTop=&quot;@drawable/selector_main_tab_home&quot;</span><br><span class="line">        android:text=&quot;首页&quot; /&gt;</span><br><span class="line">    &lt;RadioButton</span><br><span class="line">        android:id=&quot;@+id/rb_test&quot;</span><br><span class="line">        style=&quot;@style/RadioButtonBottomTab&quot;</span><br><span class="line">        android:drawableTop=&quot;@drawable/selector_main_tab_home&quot;</span><br><span class="line">        android:text=&quot;测试&quot; /&gt;</span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">RadioGroup</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>当然利用ViewPagerIndicator和PagerSlidingTabStrip也可以完成此功能，这里用了RadioButton。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//style.xml</span><br><span class="line"><span class="comment">&lt;!--底部导航栏--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">name</span>=<span class="string">&quot;RadioButtonBottomTab&quot;</span>&gt;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:layout_weight&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:layout_width&quot;</span>&gt;</span>0dp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:layout_height&quot;</span>&gt;</span>match_parent<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:padding&quot;</span>&gt;</span>2dp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:button&quot;</span>&gt;</span>@null<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:layout_gravity&quot;</span>&gt;</span>center_vertical<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:scaleType&quot;</span>&gt;</span>centerCrop<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:textSize&quot;</span>&gt;</span>14sp<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:textColor&quot;</span>&gt;</span>@android:color/black<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:gravity&quot;</span>&gt;</span>center<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">name</span>=<span class="string">&quot;android:background&quot;</span>&gt;</span>#ffffff<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//selector_main_tab_home.xml</span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">selector</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">&quot;@mipmap/ic_home_fill&quot;</span></span></span><br><span class="line"><span class="tag">          <span class="attr">android:state_checked</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">android:drawable</span>=<span class="string">&quot;@mipmap/ic_home&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">selector</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果图如下：</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-05.png" class="responsive-img">

<p>莫名地总想测一下时间，利用<code>TraceView</code>测试<code>initView()</code>（即初始化fragmentTabHost的代码）的结果如下：</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-06.png" class="responsive-img">

<h1 id="0x03-轮播图片实现"><a href="#0x03-轮播图片实现" class="headerlink" title="0x03  轮播图片实现"></a>0x03  轮播图片实现</h1><p>这个轮播图片，这个好多大牛都自己实现过一次，如果时间不够，或者水平没达到一定程度，也可以借鉴一些开源组件，例如<a target="_blank" rel="noopener" href="https://github.com/iKrelve/Kanner">Kanner</a>，<a target="_blank" rel="noopener" href="https://github.com/bendeng/PictureCarousel">PictureCarousel</a>等。当然Trinea大牛也出过一篇名为<a target="_blank" rel="noopener" href="http://www.trinea.cn/android/auto-scroll-view-pager/">Android自动滚动 轮播循环的ViewPager</a>的分析。 限于篇幅，不能详细地分析了。</p>
<h1 id="0x04-卡片式风格"><a href="#0x04-卡片式风格" class="headerlink" title="0x04  卡片式风格"></a>0x04  卡片式风格</h1><p>事实上，截图里的风格趋近于磁贴，真正的卡片式设计<a target="_blank" rel="noopener" href="https://www.zhihu.com/question/21473866">谷歌也早已在应用</a>。但是这种交互性没有那么强，只有几个块状元素，应该触感上不如磁贴的。</p>
<p>因为没有什么特效，可以直接使用ImageView构建类似的风格，即如下图所示。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-07.png" class="responsive-img">

<p>直接使用xml代码即可。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">//activity_main.xml</span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">LinearLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:background</span>=<span class="string">&quot;#ffede0c8&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:orientation</span>=<span class="string">&quot;vertical&quot;</span> &gt;</span></span><br><span class="line">    &lt;LinearLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:background=&quot;#ffede0c8&quot;</span><br><span class="line">        android:gravity=&quot;center&quot;</span><br><span class="line">        android:orientation=&quot;vertical&quot; &gt;</span><br><span class="line">        &lt;LinearLayout</span><br><span class="line">            android:layout_width=&quot;match_parent&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:orientation=&quot;vertical&quot; &gt;</span><br><span class="line">            &lt;LinearLayout</span><br><span class="line">                android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">                android:orientation=&quot;horizontal&quot; &gt;</span><br><span class="line">                &lt;LinearLayout</span><br><span class="line">                    android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">                    android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">                    android:layout_weight=&quot;2&quot;</span><br><span class="line">                    android:orientation=&quot;vertical&quot; &gt;</span><br><span class="line">                    &lt;ImageView</span><br><span class="line">                        android:id=&quot;@+id/c_joke&quot;</span><br><span class="line">                        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">                        android:layout_margin=&quot;1dp&quot;</span><br><span class="line">                        android:scaleType=&quot;fitXY&quot;</span><br><span class="line">                        android:src=&quot;@drawable/left_top&quot; /&gt;</span><br><span class="line"></span><br><span class="line">                    &lt;ImageView</span><br><span class="line">                        android:id=&quot;@+id/c_idea&quot;</span><br><span class="line">                        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">                        android:layout_margin=&quot;1dp&quot;</span><br><span class="line">                        android:scaleType=&quot;fitXY&quot;</span><br><span class="line">                        android:src=&quot;@drawable/left_bottom&quot; /&gt;</span><br><span class="line">                <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">                &lt;ImageView</span><br><span class="line">                    android:id=&quot;@+id/c_constellation&quot;</span><br><span class="line">                    android:layout_weight=&quot;1&quot;</span><br><span class="line">                    android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">                    android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">                    android:layout_margin=&quot;1dp&quot;</span><br><span class="line">                    android:scaleType=&quot;fitXY&quot;</span><br><span class="line">                    android:src=&quot;@drawable/right&quot; /&gt;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">            &lt;ImageView</span><br><span class="line">                android:id=&quot;@+id/iv_ad&quot;</span><br><span class="line">                android:layout_width=&quot;match_parent&quot;</span><br><span class="line">                android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">                android:layout_margin=&quot;1dp&quot;</span><br><span class="line">                android:scaleType=&quot;fitXY&quot;</span><br><span class="line">                android:src=&quot;@drawable/bottom&quot; /&gt;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>#####0x05  Fragment平板电脑适配</p>
<p>以及如何禁止旋转呢。</p>
<p>在新建项目的时候，选择<code>Master/Detail Flow</code>，然后运行到横向布局的平板上面，即是下图的效果。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-08.png" class="responsive-img">

<p>它这里主要通过建立了layout-w900dp文件夹，来进行屏幕的适配，以及在java代码里面，通过以下判断，在Adapter里设定一个标志变量，以求响应不同的屏幕。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (findViewById(R.id.item_detail_container) != <span class="keyword">null</span>) &#123;</span><br><span class="line">    <span class="comment">// The detail container view will be present only in the</span></span><br><span class="line">    <span class="comment">// large-screen layouts (res/values-w900dp).</span></span><br><span class="line">    <span class="comment">// If this view is present, then the</span></span><br><span class="line">    <span class="comment">// activity should be in two-pane mode.</span></span><br><span class="line">    mTwoPane = <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>禁止旋转的话，只需要在AndroidManifest.xml将对应的Activity的android:screenOrientation属性设为定值即可，比如纵向”portrait”，横向”landscape”。</p>
<p>#####0x06  左右ListView实现</p>
<p>这个以前也做过类似的，类似于外卖平台的商家界面，左边是分类，而右边是该分类对应下的商品。当时做的是网络应用，分类和商品都是网络获取的，当然现在这个自己生成一些数据就好。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-09.png" class="responsive-img">

<p>主要是有两个Adapter，一个分类的Adapter，即左边的Adapter，一个右边的Adapter。Adapter和传统的写法一致。</p>
<p>布局xml代码：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;LinearLayout</span><br><span class="line">    android:layout_width=&quot;fill_parent&quot;</span><br><span class="line">    android:layout_height=&quot;fill_parent&quot;</span><br><span class="line">    android:background=&quot;#ededed&quot;</span><br><span class="line">    android:orientation=&quot;horizontal&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;ListView</span><br><span class="line">        android:id=&quot;@+id/listView&quot;</span><br><span class="line">        android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:layout_weight=&quot;3&quot;</span><br><span class="line">        android:background=&quot;@android:color/holo_green_dark&quot;</span><br><span class="line">        android:choiceMode=&quot;singleChoice&quot;</span><br><span class="line">        android:divider=&quot;@android:color/darker_gray&quot;</span><br><span class="line">        android:dividerHeight=&quot;1px&quot;</span><br><span class="line">        android:listSelector=&quot;@android:color/white&quot;/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;GridView</span><br><span class="line">        android:id=&quot;@+id/subListView&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:layout_margin=&quot;10dp&quot;</span><br><span class="line">        android:layout_marginTop=&quot;1dp&quot;</span><br><span class="line">        android:layout_weight=&quot;1&quot;</span><br><span class="line">        android:clipToPadding=&quot;false&quot;</span><br><span class="line">        android:horizontalSpacing=&quot;10dp&quot;</span><br><span class="line">        android:numColumns=&quot;3&quot;</span><br><span class="line">        android:verticalSpacing=&quot;10dp&quot; /&gt;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>其中ListView和GridView是在一个LinearLayout里，响应listView的点击事件，然后加载不同的数据源，配置Adapter。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">listView.setOnItemClickListener(<span class="keyword">new</span> AdapterView.OnItemClickListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onItemClick</span><span class="params">(AdapterView&lt;?&gt; arg0, View arg1, <span class="keyword">int</span> position,</span></span></span><br><span class="line"><span class="function"><span class="params">                            <span class="keyword">long</span> arg3)</span> </span>&#123;</span><br><span class="line">        ClassList classList = datas.get(position);</span><br><span class="line">        cate_id = classList.getGcId();</span><br><span class="line">        findCateById(cate_id);</span><br><span class="line">        myAdapter.setSelectedPosition(position);</span><br><span class="line">        myAdapter.notifyDataSetInvalidated();</span><br><span class="line">        subAdapter = <span class="keyword">new</span> SubAdapter(MainActivity.<span class="keyword">this</span>, subdatas);</span><br><span class="line">        subListView.setAdapter(subAdapter);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="0x07-侧滑界面实现"><a href="#0x07-侧滑界面实现" class="headerlink" title="0x07  侧滑界面实现"></a>0x07  侧滑界面实现</h1><p>关于QQ的侧滑界面，网上也有<a target="_blank" rel="noopener" href="http://www.kancloud.cn/digest/fastdev4android/109672">解析</a>，使用了ViewDragHelper来进行手势的处理。</p>
<p>这个在新建项目的时候，我们就会发现一个名为Navigation Drawer Activity的选项。</p>
<p>我们可以选择它，一路Next。</p>
<p>然后运行应用，可以看到以下的效果。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-10.png" class="responsive-img">

<p>分析这个应用的xml，整个界面的xml如下：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.design.widget.AppBarLayout</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">android.support.design.widget.AppBarLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">TextView</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">RelativeLayout</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">android.support.design.widget.FloatingActionButton</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.NavigationView</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.DrawerLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>整体不难理解，是由一个DrawerLayout包含了整体的布局，然后CoodinatorLayout是界面的布局，而NavigationView是侧边栏导航的布局。其中DrawerLayout的文档里也说明了需要将primary content view作为第一个子节点，并且高度和宽度均为match_parent并且没有设置Layout_gravity，而抽屉需要在这个view之后，并设置layout_gravity，如果设置成start，即为从左向右滑动。</p>
<p>在java代码里，这个示例主要做了以下几件事情。</p>
<blockquote>
<p>初始化并设置Toolbar</p>
</blockquote>
<blockquote>
<p>设置浮动按钮（FloatingActionButton）。</p>
</blockquote>
<blockquote>
<p>初始化DrawerLayout。由于ActionBarDrawerToggle实现了DrawerLayout.DrawerListener，所以直接使用其可以将DrawerLayout和ActionBar进行监听器的绑定。</p>
</blockquote>
<blockquote>
<p>初始化并配置NavigationView，其是谷歌标准的侧滑出来的布局，当然也可以自己实现一个布局，然后在Activity的xml布局里，在主内容之后添加。</p>
</blockquote>
<p>其中menu也声明了是在<code>activity_main_drawer.xml</code>文件里，可以修改其，以进行一些侧滑菜单项的配置。</p>
<h1 id="0x08-顶部弹出菜单实现"><a href="#0x08-顶部弹出菜单实现" class="headerlink" title="0x08  顶部弹出菜单实现"></a>0x08  顶部弹出菜单实现</h1><p>我们在侧滑界面实现的那个Demo或者<code>Base Activity</code>里面，其实已经实现了点击弹出菜单的样式，即官方实现，当然这个各自有各自的实现，我们当然也可以使用PopupMenu、PopupWindow之类的去实现这些效果，此次简要写一下官方实现Menu。</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-11.png" class="responsive-img">

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//MainActivity.java</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onCreateOptionsMenu</span><span class="params">(Menu menu)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Inflate the menu; this adds items to the action bar if it is present.</span></span><br><span class="line">    getMenuInflater().inflate(R.menu.main, menu);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onOptionsItemSelected</span><span class="params">(MenuItem item)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Handle action bar item clicks here. The action bar will</span></span><br><span class="line">    <span class="comment">// automatically handle clicks on the Home/Up button, so long</span></span><br><span class="line">    <span class="comment">// as you specify a parent activity in AndroidManifest.xml.</span></span><br><span class="line">    <span class="keyword">int</span> id = item.getItemId();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//noinspection SimplifiableIfStatement</span></span><br><span class="line">    <span class="keyword">if</span> (id == R.id.action_settings) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.onOptionsItemSelected(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//main.xml</span><br><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">menu</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>&gt;</span></span><br><span class="line">    &lt;item</span><br><span class="line">        android:id=&quot;@+id/action_settings&quot;</span><br><span class="line">        android:orderInCategory=&quot;100&quot;</span><br><span class="line">        android:title=&quot;@string/action_settings&quot;</span><br><span class="line">        app:showAsAction=&quot;never&quot; /&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">menu</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>#####0x09  顶部选项卡实现</p>
<img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/tech/blog201607-android-ui-design-homework-12.png" class="responsive-img">

<p>在<code>build.gradle</code>里引入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#39;com.android.support:design:24.0.0&#39;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">//xml代码</span><br><span class="line">&lt;android.support.design.widget.TabLayout</span><br><span class="line">    android:id=&quot;@+id/tabs&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;48dp&quot; //菜单高度</span><br><span class="line">    android:background=&quot;#1FBCD2&quot; //菜单条的背景</span><br><span class="line">    app:tabIndicatorColor=&quot;#ff0000&quot; //菜单指示器的颜色</span><br><span class="line">    app:tabMode=&quot;scrollable&quot; //菜单可以滚动</span><br><span class="line">    app:tabPaddingEnd=&quot;20dp&quot; </span><br><span class="line">    app:tabPaddingStart=&quot;20dp&quot; //菜单之间的间距</span><br><span class="line">    app:tabSelectedTextColor=&quot;#FFFFFF&quot; //菜单选中时的颜色</span><br><span class="line">    app:tabTextColor=&quot;#000000&quot;&gt; //菜单未选中时的颜色</span><br><span class="line"><span class="tag">&lt;/<span class="name">android.support.design.widget.TabLayout</span>&gt;</span></span><br><span class="line"></span><br><span class="line">&lt;android.support.v4.view.ViewPager</span><br><span class="line">    android:id=&quot;@+id/vp_view&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;wrap_content&quot; /&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Activity代码</span></span><br><span class="line"><span class="keyword">private</span> List&lt;String&gt; mTitleList = <span class="keyword">new</span> ArrayList&lt;String&gt;();<span class="comment">//页卡标题集合</span></span><br><span class="line"><span class="keyword">private</span> View view1, view2, view3;</span><br><span class="line"><span class="keyword">private</span> List&lt;View&gt; mViewList = <span class="keyword">new</span> ArrayList&lt;&gt;();<span class="comment">//页卡视图集合</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//onCreate里关键代码</span></span><br><span class="line">view1 = mInflater.inflate(R.layout.content, <span class="keyword">null</span>);</span><br><span class="line">view2 = mInflater.inflate(R.layout.content, <span class="keyword">null</span>);</span><br><span class="line">view3 = mInflater.inflate(R.layout.content, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">mViewPager = (ViewPager) findViewById(R.id.vp_view);</span><br><span class="line">mTabLayout = (TabLayout) findViewById(R.id.tabs);</span><br><span class="line"></span><br><span class="line">mViewList.add(view1);</span><br><span class="line">mViewList.add(view2);</span><br><span class="line">mViewList.add(view3);</span><br><span class="line"></span><br><span class="line">mTabLayout.addTab(mTabLayout.newTab().setText(mTitleList.get(<span class="number">0</span>)), <span class="keyword">true</span>);</span><br><span class="line">mTabLayout.addTab(mTabLayout.newTab().setText(mTitleList.get(<span class="number">1</span>)));</span><br><span class="line">mTabLayout.addTab(mTabLayout.newTab().setText(mTitleList.get(<span class="number">2</span>)));</span><br><span class="line"></span><br><span class="line">MyPagerAdapter mAdapter = <span class="keyword">new</span> MyPagerAdapter(mViewList);</span><br><span class="line"><span class="comment">//给ViewPager设置适配器</span></span><br><span class="line">mViewPager.setAdapter(mAdapter);</span><br><span class="line"></span><br><span class="line"><span class="comment">//将TabLayout和ViewPager关联起来</span></span><br><span class="line">mTabLayout.setupWithViewPager(mViewPager);</span><br><span class="line"><span class="comment">//给Tabs设置适配器</span></span><br><span class="line">mTabLayout.setTabsFromPagerAdapter(mAdapter);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ViewPager适配器，内部类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyPagerAdapter</span> <span class="keyword">extends</span> <span class="title">PagerAdapter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;View&gt; mViewList;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyPagerAdapter</span><span class="params">(List&lt;View&gt; mViewList)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mViewList = mViewList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCount</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mViewList.size();<span class="comment">//页卡数</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isViewFromObject</span><span class="params">(View view, Object object)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> view == object;<span class="comment">//官方推荐写法</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">instantiateItem</span><span class="params">(ViewGroup container, <span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        container.addView(mViewList.get(position));<span class="comment">//添加页卡</span></span><br><span class="line">        <span class="keyword">return</span> mViewList.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroyItem</span><span class="params">(ViewGroup container, <span class="keyword">int</span> position, Object object)</span> </span>&#123;</span><br><span class="line">        container.removeView(mViewList.get(position));<span class="comment">//删除页卡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CharSequence <span class="title">getPageTitle</span><span class="params">(<span class="keyword">int</span> position)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mTitleList.get(position);<span class="comment">//页卡标题</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>具体可以参考简书上的这篇<a target="_blank" rel="noopener" href="http://www.jianshu.com/p/7ee916e5fae7">Android开发之TabLayout实现顶部菜单的文章</a>。如果要实现内容不是View，而是一个Fragment的话，只需要重写一下<code>Adapter</code>，将对应的Fragment返回即可，具体可以查看<code>FragmentStatePagerAdapter</code>的源码，以及以前写过类似的<a target="_blank" rel="noopener" href="https://github.com/DigDream/shopnc-app/blob/master/Src/app/src/main/java/com/daxueoo/shopnc/ui/fragment/HomeFragment.java">东西</a>。</p>
<h1 id="0x0A-后记"><a href="#0x0A-后记" class="headerlink" title="0x0A  后记"></a>0x0A  后记</h1><p>斜阳无限，无奈只一息间灿烂。</p>
<p>曾遇上几多风雨翻，编织我交错梦幻。</p>
<p>曾遇你真心的臂弯，伴我走过患难。</p>
<p>夕阳虽美，但却近黄昏。</p>
<p>梅艳芳曾经讲过，《夕阳之歌》是她一生的写照。也许在死亡面前，才能真正感悟。</p>
<p>各位都应珍惜时间，别到了最后，令自己后悔；珍惜眼前人，也许明日就是离别之时；珍惜身边的一切，经历过大风大浪才知，平淡美好的生活才是所向往的。未来怎样，无法预料，可是我们也得有面对未来的准备啊。扪心自问，问心无愧，足以。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Android UI 期末作业分析（附代码）</p><p><a href="https://dbqf.xyz/201607-android-ui-design-homework.html">https://dbqf.xyz/201607-android-ui-design-homework.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>admin</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2016-07-01</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2016-07-03</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/Android/">Android</a><a class="link-muted mr-2" rel="tag" href="/tags/Android-UI/">Android UI</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%AF%BC%E8%88%AA%E6%A0%8F/">导航栏</a></div><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-6038abc057217892" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">Like this article? Support the author with</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>Alipay</span><span class="qrcode"><img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/common/blog_ali_pay.png" alt="Alipay"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>Wechat</span><span class="qrcode"><img src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/common/blog_wechat_pay.png" alt="Wechat"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/201610-devops-best-practices-sdl.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">DevOps 最佳实践之推进软件安全开发周期 SDL 建设</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/201606-android-develop-annotations-reflect-mvvm.html"><span class="level-item">findViewById 注解、泛型、反射、MVVM</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">Comments</h3><script src="https://utteranc.es/client.js" repo="dubuqingfeng/tech-blog" issue-term="pathname" label="some-issue-label" theme="github-light" crossorigin="anonymous" async></script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://dubuqingfeng.oss-cn-hongkong.aliyuncs.com/blog/common/github-icon-url.jpeg" alt="独步清风"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">独步清风</p><p class="is-size-6 is-block">dubuqingfeng</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Beijing</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">36</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">20</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">62</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/dubuqingfeng" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/dubuqingfeng"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/atom.xml"><i class="fas fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#0x00-TOC"><span class="level-left"><span class="level-item">1</span><span class="level-item">0x00    TOC</span></span></a></li><li><a class="level is-mobile" href="#0x01-作业题目分析"><span class="level-left"><span class="level-item">2</span><span class="level-item">0x01  作业题目分析</span></span></a></li><li><a class="level is-mobile" href="#0x02-底部选项卡实现"><span class="level-left"><span class="level-item">3</span><span class="level-item">0x02  底部选项卡实现</span></span></a></li><li><a class="level is-mobile" href="#0x03-轮播图片实现"><span class="level-left"><span class="level-item">4</span><span class="level-item">0x03  轮播图片实现</span></span></a></li><li><a class="level is-mobile" href="#0x04-卡片式风格"><span class="level-left"><span class="level-item">5</span><span class="level-item">0x04  卡片式风格</span></span></a></li><li><a class="level is-mobile" href="#0x07-侧滑界面实现"><span class="level-left"><span class="level-item">6</span><span class="level-item">0x07  侧滑界面实现</span></span></a></li><li><a class="level is-mobile" href="#0x08-顶部弹出菜单实现"><span class="level-left"><span class="level-item">7</span><span class="level-item">0x08  顶部弹出菜单实现</span></span></a></li><li><a class="level is-mobile" href="#0x0A-后记"><span class="level-left"><span class="level-item">8</span><span class="level-item">0x0A  后记</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://xiaoye.me" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Life</span></span><span class="level-right"><span class="level-item tag">xiaoye.me</span></span></a></li><li><a class="level is-mobile" href="http://sunu11.com/" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Sunu11</span></span><span class="level-right"><span class="level-item tag">sunu11.com</span></span></a></li><li><a class="level is-mobile" href="https://blog.csdn.net/ifkirin" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">ifkirin</span></span><span class="level-right"><span class="level-item tag">blog.csdn.net</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/2014/"><span class="level-start"><span class="level-item">2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Android/"><span class="level-start"><span class="level-item">Android</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Android%E5%AE%89%E5%85%A8/"><span class="level-start"><span class="level-item">Android安全</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Bugtags/"><span class="level-start"><span class="level-item">Bugtags</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/DevOps/"><span class="level-start"><span class="level-item">DevOps</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Docker/"><span class="level-start"><span class="level-item">Docker</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Web%E5%AE%89%E5%85%A8/"><span class="level-start"><span class="level-item">Web安全</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/bitcoin/"><span class="level-start"><span class="level-item">bitcoin</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/blockchain/"><span class="level-start"><span class="level-item">blockchain</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/chromebook/"><span class="level-start"><span class="level-item">chromebook</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/flink/"><span class="level-start"><span class="level-item">flink</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/test/"><span class="level-start"><span class="level-item">test</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%8F%8D%E6%B1%87%E7%BC%96/"><span class="level-start"><span class="level-item">反汇编</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1/"><span class="level-start"><span class="level-item">电子设计</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%87%AA%E6%88%91%E7%AE%A1%E7%90%86/"><span class="level-start"><span class="level-item">自我管理</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E8%87%AA%E7%94%B1%E8%BD%AF%E4%BB%B6/"><span class="level-start"><span class="level-item">自由软件</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%80%86%E5%90%91%E5%8A%A0%E5%AF%86/"><span class="level-start"><span class="level-item">逆向加密</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%9A%8F%E7%AC%94/"><span class="level-start"><span class="level-item">随笔</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-24T08:42:38.000Z">2021-12-24</time></p><p class="title"><a href="/202112-smartcontracts-riskanalysis-and-flashloan-exploits.html">智能合约安全分析与闪电贷利用</a></p><p class="categories"><a href="/categories/blockchain/">blockchain</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-08-11T02:42:38.000Z">2021-08-11</time></p><p class="title"><a href="/202108-eth-scaling-and-eth2.0.html">eth 扩容及 eth 2.0，机遇</a></p><p class="categories"><a href="/categories/blockchain/">blockchain</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-03-23T13:42:38.000Z">2021-03-23</time></p><p class="title"><a href="/202103-yinanping-ruhecuoguobaibeidedefi.html">意难平 | 如何错过百倍的 Defi</a></p><p class="categories"><a href="/categories/blockchain/">blockchain</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-02-20T12:42:38.000Z">2021-02-20</time></p><p class="title"><a href="/202102-bitexiangzuoyitaixiangrou.html">比特向左，以太向右</a></p><p class="categories"><a href="/categories/blockchain/">blockchain</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-19T03:42:00.000Z">2020-12-19</time></p><p class="title"><a href="/202012-bitcoin-schnorr-start.html">比特币新特性：Schnorr 签名系列：初识 Schnorr 签名</a></p><p class="categories"><a href="/categories/bitcoin/">bitcoin</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">March 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/01/"><span class="level-start"><span class="level-item">January 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/10/"><span class="level-start"><span class="level-item">October 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/07/"><span class="level-start"><span class="level-item">July 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/06/"><span class="level-start"><span class="level-item">June 2016</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/05/"><span class="level-start"><span class="level-item">May 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/03/"><span class="level-start"><span class="level-item">March 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/12/"><span class="level-start"><span class="level-item">December 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/08/"><span class="level-start"><span class="level-item">August 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/06/"><span class="level-start"><span class="level-item">June 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/05/"><span class="level-start"><span class="level-item">May 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/04/"><span class="level-start"><span class="level-item">April 2015</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/03/"><span class="level-start"><span class="level-item">March 2015</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/02/"><span class="level-start"><span class="level-item">February 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/11/"><span class="level-start"><span class="level-item">November 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/10/"><span class="level-start"><span class="level-item">October 2014</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/07/"><span class="level-start"><span class="level-item">July 2014</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2014/06/"><span class="level-start"><span class="level-item">June 2014</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/2014/"><span class="tag">2014</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android-UI/"><span class="tag">Android UI</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android%E5%AE%89%E5%85%A8/"><span class="tag">Android安全</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bugtags/"><span class="tag">Bugtags</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bug%E7%AE%A1%E7%90%86/"><span class="tag">Bug管理</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CNUTCon/"><span class="tag">CNUTCon</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Decompiler/"><span class="tag">Decompiler</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DevOps/"><span class="tag">DevOps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Log/"><span class="tag">Log</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LogCat/"><span class="tag">LogCat</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PKM/"><span class="tag">PKM</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PreferenceFragment/"><span class="tag">PreferenceFragment</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SDL/"><span class="tag">SDL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web%E5%AE%89%E5%85%A8/"><span class="tag">Web安全</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/bitcoin/"><span class="tag">bitcoin</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/btc-com/"><span class="tag">btc.com</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/c/"><span class="tag">c</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/chromebook/"><span class="tag">chromebook</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/clickhouse/"><span class="tag">clickhouse</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/defi/"><span class="tag">defi</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/delphi%E5%8A%A0%E5%AF%86/"><span class="tag">delphi加密</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/drozer/"><span class="tag">drozer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/eth/"><span class="tag">eth</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/eth-2-0/"><span class="tag">eth 2.0</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/findViewById/"><span class="tag">findViewById</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/flink/"><span class="tag">flink</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/fork/"><span class="tag">fork</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/git/"><span class="tag">git</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/github-pages/"><span class="tag">github pages</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/linux/"><span class="tag">linux</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/mitm/"><span class="tag">mitm</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/olap/"><span class="tag">olap</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pelican/"><span class="tag">pelican</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/pyflink/"><span class="tag">pyflink</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/scaling/"><span class="tag">scaling</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/schnorr/"><span class="tag">schnorr</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ubuntu/"><span class="tag">ubuntu</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vps/"><span class="tag">vps</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/xss/"><span class="tag">xss</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%BA%E7%94%9F/"><span class="tag">人生</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BB%A5%E5%A4%AA%E5%9D%8A/"><span class="tag">以太坊</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E5%B0%84/"><span class="tag">反射</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E6%B1%87%E7%BC%96/"><span class="tag">反汇编</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8D%E7%BC%96%E8%AF%91/"><span class="tag">反编译</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%AF%BC%E8%88%AA%E6%A0%8F/"><span class="tag">导航栏</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B9%B4%E7%BB%88%E6%80%BB%E7%BB%93/"><span class="tag">年终总结</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%95%E8%B5%84/"><span class="tag">投资</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6/"><span class="tag">智能合约</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E5%AE%89%E5%85%A8/"><span class="tag">智能合约安全</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%AF%94%E7%89%B9%E5%B8%81/"><span class="tag">比特币</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B3%A8%E8%A7%A3/"><span class="tag">注解</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%94%B5%E5%AD%90%E8%AE%BE%E8%AE%A1/"><span class="tag">电子设计</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%9F%A5%E8%AF%86%E7%AE%A1%E7%90%86/"><span class="tag">知识管理</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%A7%A3%E9%AD%94%E6%96%B9%E6%9C%BA%E5%99%A8%E4%BA%BA/"><span class="tag">解魔方机器人</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%AE%A4%E7%9F%A5/"><span class="tag">认知</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AF%E4%BB%B6%E6%BA%90/"><span class="tag">软件源</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%80%86%E5%90%91/"><span class="tag">逆向</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%97%AA%E7%94%B5%E8%B4%B7/"><span class="tag">闪电贷</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9A%8F%E7%AC%94/"><span class="tag">随笔</span><span class="tag">2</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">独步清风&#039;s Blog</a><p class="is-size-7"><span>&copy; 2022 admin</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>